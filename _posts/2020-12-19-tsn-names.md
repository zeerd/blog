---
layout: post
title: TSN常见协议
tag: [TSN]
---

<!--break-->

<svg class="a2s media" width="883px" height="352px"
viewBox="0 0 883 352" version="1.1"
  xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  <!-- Created with ASCIIToSVG (https://github.com/dhobsd/asciitosvg/) -->
  <defs>
    <filter id="dsFilterNoBlur" width="150%" height="150%">
      <feOffset result="offOut" in="SourceGraphic" dx="3" dy="3"/>
      <feColorMatrix result="matrixOut" in="offOut" type="matrix" values="0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"/>
      <feBlend in="SourceGraphic" in2="matrixOut" mode="normal"/>
    </filter>
    <filter id="dsFilter" width="150%" height="150%">
      <feOffset result="offOut" in="SourceGraphic" dx="3" dy="3"/>
      <feColorMatrix result="matrixOut" in="offOut" type="matrix" values="0.2 0 0 0 0 0 0.2 0 0 0 0 0 0.2 0 0 0 0 0 1 0"/>
      <feGaussianBlur result="blurOut" in="matrixOut" stdDeviation="3"/>
      <feBlend in="SourceGraphic" in2="blurOut" mode="normal"/>
    </filter>
    <marker id="iPointer"
      viewBox="0 0 10 10" refX="5" refY="5" 
      markerUnits="strokeWidth"
      markerWidth="8" markerHeight="7"
      fill="black"
      orient="auto">
      <path d="M 10 0 L 10 10 L 0 5 z" />
    </marker>
    <marker id="Pointer"
      viewBox="0 0 10 10" refX="5" refY="5" 
      markerUnits="strokeWidth"
      markerWidth="8" markerHeight="7"
      fill="black"
      orient="auto">
      <path d="M 0 0 L 10 5 L 0 10 z" />
    </marker>
  </defs><g id="boxes" stroke="black" stroke-width="2" fill="none" >
<g id="group0">
	<path id="path0" filter="url(#dsFilter)" fill="#ADE0FF" stroke="#fff" d="M 292.5 8 L 562.5 8 L 562.5 248 L 292.5 248 Z" />
</g>
<g id="group3">
	<path id="path3" filter="url(#dsFilter)" fill="#247BC1" stroke="#fff" d="M 319.5 50 Q 319.5 40 329.5 40 L 489.5 40 Q 499.5 40 499.5 50 L 499.5 62 Q 499.5 72 489.5 72 L 329.5 72 Q 319.5 72 319.5 62 Z" />
	<text x="350.1" y="60.8" id="text3" fill="#fff" stroke="none" style="font-family:Consolas,Monaco,Anonymous Pro,Anonymous,Bitstream Sans Mono,monospace;font-size:15.2px" >Synchronization </text>

</g>
<g id="group10">
	<path id="path10" filter="url(#dsFilter)" fill="#247BC1" stroke="#fff" d="M 373.5 98 Q 373.5 88 383.5 88 L 525.5 88 Q 535.5 88 535.5 98 L 535.5 110 Q 535.5 120 525.5 120 L 383.5 120 Q 373.5 120 373.5 110 Z" />
	<text x="404.1" y="108.8" id="text7" fill="#fff" stroke="none" style="font-family:Consolas,Monaco,Anonymous Pro,Anonymous,Bitstream Sans Mono,monospace;font-size:15.2px" >Reliability </text>

</g>
<g id="group17">
	<path id="path17" filter="url(#dsFilter)" fill="#247BC1" stroke="#fff" d="M 319.5 146 Q 319.5 136 329.5 136 L 489.5 136 Q 499.5 136 499.5 146 L 499.5 158 Q 499.5 168 489.5 168 L 329.5 168 Q 319.5 168 319.5 158 Z" />
	<text x="377.1" y="156.8" id="text11" fill="#fff" stroke="none" style="font-family:Consolas,Monaco,Anonymous Pro,Anonymous,Bitstream Sans Mono,monospace;font-size:15.2px" >Latency </text>

</g>
<g id="group23">
	<path id="path23" filter="url(#dsFilter)" fill="#247BC1" stroke="#fff" d="M 373.5 194 Q 373.5 184 383.5 184 L 525.5 184 Q 535.5 184 535.5 194 L 535.5 206 Q 535.5 216 525.5 216 L 383.5 216 Q 373.5 216 373.5 206 Z" />
	<text x="404.1" y="204.8" id="text16" fill="#fff" stroke="none" style="font-family:Consolas,Monaco,Anonymous Pro,Anonymous,Bitstream Sans Mono,monospace;font-size:15.2px" >Resource Mgmt </text>

</g>
</g>
<g id="lines" stroke="black" stroke-width="2" fill="none" >
<g id="group218">
	<path id="path218" stroke-dasharray="5 5" d="M 76.5 136 L 274.5 136 L 274.5 104 " />
</g>
<g id="group432">
	<path id="path432" stroke-dasharray="5 5" d="M 166.5 40 L 274.5 40 L 274.5 8 " />
</g>
<g id="group698">
	<path id="path698" stroke-dasharray="5 5" d="M 274.5 72 L 274.5 56 L 274.5 40 " />
</g>
<g id="group712">
	<path id="path712" stroke-dasharray="5 5" d="M 274.5 296 L 274.5 280 L 274.5 152 L 274.5 136 " />
</g>
<g id="group785">
	<path id="path785" stroke-dasharray="5 5" d="M 310.5 56 L 292.5 56 L 274.5 56 L 274.5 40 M 315.44974746831 56 L 310.5 56 M 315.44974746831 56 L 300.60050506339 46.100505063388 M 315.44974746831 56 300.60050506339 65.899494936612 " />
</g>
<g id="group791">
	<path id="path791" stroke-dasharray="5 5" d="M 310.5 152 L 292.5 152 L 274.5 152 L 274.5 136 M 315.44974746831 152 L 310.5 152 M 315.44974746831 152 L 300.60050506339 142.10050506339 M 315.44974746831 152 300.60050506339 161.89949493661 " />
</g>
<g id="group821">
	<path id="path821" stroke-dasharray="5 5" d="M 319.5 280 L 274.5 280 M 324.44974746831 280 L 319.5 280 M 324.44974746831 280 L 309.60050506339 270.10050506339 M 324.44974746831 280 309.60050506339 289.89949493661 " />
</g>
<g id="group1327">
	<path id="path1327" stroke-dasharray="5 5" d="M 526.5 280 L 580.5 280 L 580.5 200 L 580.5 184 L 580.5 152 M 521.55025253169 280 L 526.5 280 M 521.55025253169 280 L 536.39949493661 270.10050506339 M 521.55025253169 280 536.39949493661 289.89949493661 " />
</g>
<g id="group1360">
	<path id="path1360" stroke-dasharray="5 5" d="M 544.5 104 L 562.5 104 L 580.5 104 L 580.5 40 L 580.5 8 M 539.55025253169 104 L 544.5 104 M 539.55025253169 104 L 554.39949493661 94.100505063388 M 539.55025253169 104 554.39949493661 113.89949493661 " />
</g>
<g id="group1366">
	<path id="path1366" stroke-dasharray="5 5" d="M 544.5 200 L 562.5 200 L 580.5 200 L 580.5 184 L 832.5 184 M 539.55025253169 200 L 544.5 200 M 539.55025253169 200 L 554.39949493661 190.10050506339 M 539.55025253169 200 554.39949493661 209.89949493661 " />
</g>
<g id="group1444">
	<path id="path1444" stroke-dasharray="5 5" d="M 580.5 40 L 760.5 40 " />
</g>
<g id="group1449">
	<path id="path1449" stroke-dasharray="5 5" d="M 580.5 104 L 580.5 120 " />
</g>
<g id="group1461">
	<path id="path1461" stroke-dasharray="5 5" d="M 580.5 280 L 580.5 296 " />
</g>
</g>
<g id="text" fill="black" style="font-family:Consolas,Monaco,Anonymous Pro,Anonymous,Bitstream Sans Mono,monospace;font-size:15.2px" >
<text x="170.1" y="28.8" id="text0" fill="#000" >Time sync: </text>
<text x="593.1" y="28.8" id="text1" fill="#000" >Ultra reliability:</text>
<text x="26.1" y="60.8" id="text2" fill="#000" >Timing and Synchronization </text>
<text x="593.1" y="60.8" id="text4" fill="#000" >Frame Replication &amp; Elimination</text>
<text x="593.1" y="76.8" id="text5" fill="#000" >Path Control</text>
<text x="593.1" y="92.8" id="text6" fill="#000" >Per Stream Filtering &amp; Policing</text>
<text x="593.1" y="108.8" id="text8" fill="#000" >reliability</text>
<text x="80.1" y="124.8" id="text9" fill="#000" >Bounded low latency: </text>
<text x="89.1" y="156.8" id="text10" fill="#000" >Credit Based Shaper </text>
<text x="116.1" y="172.8" id="text12" fill="#000" >Frame Preemption </text>
<text x="593.1" y="172.8" id="text13" fill="#000" >Dedicated resources &amp; API:</text>
<text x="107.1" y="188.8" id="text14" fill="#000" >Scheduled Traffic </text>
<text x="8.1" y="204.8" id="text15" fill="#000" >Cyclic Queueing &amp; Forwarding </text>
<text x="593.1" y="204.8" id="text17" fill="#000" >Stream Reservation Protocol</text>
<text x="8.1" y="220.8" id="text18" fill="#000" >Asynchronous Traffic Shaping </text>
<text x="593.1" y="220.8" id="text19" fill="#000" >TSN configuration</text>
<text x="593.1" y="236.8" id="text20" fill="#000" >YANG</text>
<text x="593.1" y="252.8" id="text21" fill="#000" >Link local Reservation Protocol</text>
<text x="332.1" y="284.8" id="text22" fill="#000" >Zero congestion loss </text>
<text x="296.1" y="332.8" id="text23" fill="#000" >Figure 1-1 AVB &amp; TSN Components</text>
</g>
</svg>

图1中给出了目前一些引入到了时间敏感网络中的概念。其中有一些概念已经成熟，并作为标准协议在 IEEE 中进行了发布。有一些还是草案，正在被讨论。

* 时间同步（ Time sync ）：
  * 定时与同步（ Timing and Synchronization((IEEE Std 802.1AS - Timing and Synchronization)) ）

* 有限的低延迟（ Bounded low latency）：
  * 基于信用的整流（ Credit Based Shaper((IEEE Std 802.1Qav - Forwarding and Queuing of Time
Sensitive Streams (FQTSS) )) ）
  * 帧抢占（ Frame Preemption((IEEE Std 802.1Qbu - Frame Preemption)) ）
  * 规划传输（ Scheduled Traffic((IEEE Std 802.1Qbv - Enhancements for Scheduled Traffic)) ）
  * 周期性的队列与转发（ Cyclic Queueing & Forwarding((IEEE Std 802.1Qch - Cyclic Queueing & Forwarding)) ）
  * 异步传输整流（ Asynchronous Traffic Shaping((IEEE P802.1Qcr - Asynchronous Traffic Shaping)) ）

* 可靠性（ Ultra reliability ）：
  * 帧复制和消除（ Frame Replication & Elimination((IEEE P802.1CB - Frame Replication and Elimination for Reliability)) ）
  * 路径控制（ Path Control((IEEE Std 802.1Qca - IS IS Path Control and Reservation (PCR) )) ）
  * 以流为单位的过滤与策略（ Per Stream Filtering & Policing((IEEE Std 802.1Qci - Per Stream Filtering and Policing)) ）
  * 零拥塞损失（ Zero congestion loss((IEEE P802.1CB - Frame Replication and Elimination for Reliability)) ）

* 专有资源（ Dedicated resources & API ）
  * 流保留协议（ Stream Reservation Protocol((IEEE Std. 802.1Qat - Stream Reservation Protocol (SRP) )) ((IEEE P802.1Qcc - Stream Reservation Protocol (SRP) Enhancements
& Performance Improvements and TSN configuration)) ）
  * TSN 配置（ TSN configuration((IEEE P802.1Qcc - Stream Reservation Protocol (SRP) Enhancements
& Performance Improvements and TSN configuration)) ）
  * YANG 数据模型（ YANG((IEEE P802.1Qcp - YANG Data Model)) ）
  * 本地连接预留协议（ Link local Reservation Protocol((IEEE P802.1CS - Link local Registration Protocol (LRP) )) ）
